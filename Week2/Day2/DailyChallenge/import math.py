import math

class Pagination:
    """
    –°–∏–º—É–ª–∏—Ä—É–µ—Ç –±–∞–∑–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (—Ä–∞–∑–±–∏–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã) 
    –¥–ª—è —Å–ø–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
    """
    def __init__(self, items=None, page_size=10):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏–∏.
        
        :param items: –°–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: None/–ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫).
        :param page_size: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10).
        """
        # –®–∞–≥ 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞ __init__
        # –ï—Å–ª–∏ items None, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –µ–≥–æ –∫–∞–∫ –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫
        self.items = items if items is not None else []
        
        # –ü—Ä–∏–≤–æ–¥–∏–º page_size –∫ —Ü–µ–ª–æ–º—É —á–∏—Å–ª—É –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–ª–∏ —Å—Ç—Ä–æ–∫—É
        self.page_size = int(page_size)
        
        # –ò–Ω–¥–µ–∫—Å —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã, 0-–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π
        self.current_idx = 0  

        # –†–∞—Å—á–µ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–∞–Ω–∏—Ü
        if not self.items:
            self.total_pages = 0
        else:
            # –ò—Å–ø–æ–ª—å–∑—É–µ–º math.ceil –¥–ª—è –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è –≤–≤–µ—Ä—Ö. 
            # –ù–∞–ø—Ä–∏–º–µ—Ä, 26 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ page_size=10 -> math.ceil(2.6) -> 3 —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
            self.total_pages = math.ceil(len(self.items) / self.page_size)

    def get_visible_items(self):
        """
        –®–∞–≥ 3: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –≤–∏–¥–∏–º—ã—Ö –Ω–∞ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.
        
        :return: –°–ø–∏—Å–æ–∫, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —ç–ª–µ–º–µ–Ω—Ç—ã —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
        """
        # –í—ã—á–∏—Å–ª—è–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –¥–ª—è —Å—Ä–µ–∑–∞ —Å–ø–∏—Å–∫–∞
        start_index = self.current_idx * self.page_size
        
        # –í—ã—á–∏—Å–ª—è–µ–º –∫–æ–Ω–µ—á–Ω—ã–π –∏–Ω–¥–µ–∫—Å (–Ω–µ –≤–∫–ª—é—á–∞—è)
        end_index = start_index + self.page_size
        
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ä–µ–∑ —Å–ø–∏—Å–∫–∞ (list slicing)
        return self.items[start_index:end_index]

    # --- –®–∞–≥ 4: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ ---

    def go_to_page(self, page_num):
        """
        –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (1-–æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω—É–º–µ—Ä–∞—Ü–∏—è).
        
        :param page_num: –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–Ω–∞—á–∏–Ω–∞—è —Å 1).
        :raises ValueError: –ï—Å–ª–∏ page_num –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω.
        """
        # –ü—Ä–∏–≤–æ–¥–∏–º –∫ —Ü–µ–ª–æ–º—É —á–∏—Å–ª—É, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É
        try:
            page_num = int(page_num)
        except ValueError:
            raise ValueError("–ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º.")

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (–æ—Ç 1 –¥–æ total_pages)
        if page_num < 1 or page_num > self.total_pages:
            # –û—Å–æ–±—ã–π —Å–ª—É—á–∞–π: —Ä–∞–∑—Ä–µ—à–∞–µ–º –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É 1, –µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç
            if not self.total_pages and page_num == 1:
                self.current_idx = 0
                return
            raise ValueError(f"–ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã {page_num} –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞. "
                             f"–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 1 –¥–æ {self.total_pages} (–≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ).")

        # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º 1-–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ 0-–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –∏–Ω–¥–µ–∫—Å
        self.current_idx = page_num - 1

    def first_page(self):
        """
        –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ –ø–µ—Ä–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É (–∏–Ω–¥–µ–∫—Å 0).
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç self –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ü–µ–ø–æ—á–∫–∏ –º–µ—Ç–æ–¥–æ–≤ (–±–æ–Ω—É—Å).
        """
        if self.total_pages > 0:
            self.current_idx = 0
        return self

    def last_page(self):
        """ 
        –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é —Å—Ç—Ä–∞–Ω–∏—Ü—É (–∏–Ω–¥–µ–∫—Å total_pages - 1).
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç self –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ü–µ–ø–æ—á–∫–∏ –º–µ—Ç–æ–¥–æ–≤ (–±–æ–Ω—É—Å).
        """
        if self.total_pages > 0:
            self.current_idx = self.total_pages - 1
        return self

    def next_page(self):
        """
        –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ –æ–¥–Ω—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–ø–µ—Ä–µ–¥, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞.
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç self –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ü–µ–ø–æ—á–∫–∏ –º–µ—Ç–æ–¥–æ–≤ (–±–æ–Ω—É—Å).
        """
        if self.current_idx < self.total_pages - 1:
            self.current_idx += 1
        return self

    def previous_page(self):
        """
        –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ –æ–¥–Ω—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞–∑–∞–¥, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞.
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç self –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ü–µ–ø–æ—á–∫–∏ –º–µ—Ç–æ–¥–æ–≤ (–±–æ–Ω—É—Å).
        """
        if self.current_idx > 0:
            self.current_idx -= 1
        return self

    # --- –®–∞–≥ 5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ __str__() (–ë–æ–Ω—É—Å) ---

    def __str__(self):
        """
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É, –æ—Ç–æ–±—Ä–∞–∂–∞—é—â—É—é —ç–ª–µ–º–µ–Ω—Ç—ã —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã, 
        –∫–∞–∂–¥—ã–π —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏.
        """
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–µ—Ç–æ–¥ join –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–ø–∏—Å–∫–∞, 
        # —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–º –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ "\n"
        return "\n".join(str(item) for item in self.get_visible_items())

# --- –¢–µ—Å—Ç–æ–≤—ã–π –∫–æ–¥ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ ---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –°–∏—Å—Ç–µ–º—ã –ü–∞–≥–∏–Ω–∞—Ü–∏–∏

### –¢–µ—Å—Ç–æ–≤—ã–π –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤–∞—è –ù–∞–≤–∏–≥–∞—Ü–∏—è

alphabetList = list("abcdefghijklmnopqrstuvwxyz")
p = Pagination(alphabetList, 4)

print("--- –ù–∞—á–∞–ª—å–Ω–æ–µ –°–æ—Å—Ç–æ—è–Ω–∏–µ ---")
print(f"–í—Å–µ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü: {p.total_pages}")
print(f"–¢–µ–∫—É—â–∏–π –ò–Ω–¥–µ–∫—Å (–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1): {p.current_idx + 1}")
print(f"–í–∏–¥–∏–º—ã–µ –≠–ª–µ–º–µ–Ω—Ç—ã: {p.get_visible_items()}")
print("-" * 20)

print("\n--- –°–ª–µ–¥—É—é—â–∞—è –°—Ç—Ä–∞–Ω–∏—Ü–∞ ---")
p.next_page()
print(f"–¢–µ–∫—É—â–∏–π –ò–Ω–¥–µ–∫—Å (–°—Ç—Ä–∞–Ω–∏—Ü–∞ 2): {p.current_idx + 1}")
print(f"–í–∏–¥–∏–º—ã–µ –≠–ª–µ–º–µ–Ω—Ç—ã: {p.get_visible_items()}")
print("-" * 20)

print("\n--- –ü–æ—Å–ª–µ–¥–Ω—è—è –°—Ç—Ä–∞–Ω–∏—Ü–∞ ---")
p.last_page()
print(f"–¢–µ–∫—É—â–∏–π –ò–Ω–¥–µ–∫—Å (–°—Ç—Ä–∞–Ω–∏—Ü–∞ 7): {p.current_idx + 1}")
print(f"–í–∏–¥–∏–º—ã–µ –≠–ª–µ–º–µ–Ω—Ç—ã: {p.get_visible_items()}")
print("-" * 20)

print("\n--- –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –°—Ç—Ä–∞–Ω–∏—Ü—É (3) ---")
p.go_to_page(3)
print(f"–¢–µ–∫—É—â–∏–π –ò–Ω–¥–µ–∫—Å (–°—Ç—Ä–∞–Ω–∏—Ü–∞ 3): {p.current_idx + 1}")
print(f"–í–∏–¥–∏–º—ã–µ –≠–ª–µ–º–µ–Ω—Ç—ã: {p.get_visible_items()}")
print("-" * 20)

### –¢–µ—Å—Ç–æ–≤—ã–π –ü—Ä–∏–º–µ—Ä 2: –¶–µ–ø–æ—á–∫–∞ –ú–µ—Ç–æ–¥–æ–≤ (–ë–æ–Ω—É—Å)

# –°–±—Ä–æ—Å –Ω–∞ –ø–µ—Ä–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
p.first_page()
print("\n--- –¶–µ–ø–æ—á–∫–∞ –ú–µ—Ç–æ–¥–æ–≤ (Next x 3) ---")
# nextPage().nextPage().nextPage()
p.next_page().next_page().next_page()
print(f"–¢–µ–∫—É—â–∏–π –ò–Ω–¥–µ–∫—Å (–°—Ç—Ä–∞–Ω–∏—Ü–∞ 4): {p.current_idx + 1}")
print(f"–í–∏–¥–∏–º—ã–µ –≠–ª–µ–º–µ–Ω—Ç—ã: {p.get_visible_items()}")
print("-" * 20)

### –¢–µ—Å—Ç–æ–≤—ã–π –ü—Ä–∏–º–µ—Ä 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –û—à–∏–±–æ–∫

print("\n--- –û–±—Ä–∞–±–æ—Ç–∫–∞ –û—à–∏–±–æ–∫ (go_to_page) ---")
try:
    # –û–∂–∏–¥–∞–µ—Ç—Å—è: ValueError, —Ç.–∫. –≤—Å–µ–≥–æ 7 —Å—Ç—Ä–∞–Ω–∏—Ü
    p.go_to_page(10)
except ValueError as e:
    print(f"–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–∞ –æ–∂–∏–¥–∞–µ–º–∞—è –æ—à–∏–±–∫–∞ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã 10: {e}")

try:
    # –û–∂–∏–¥–∞–µ—Ç—Å—è: ValueError, —Ç.–∫. —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å 1
    p.go_to_page(0)
except ValueError as e:
    print(f"–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–∞ –æ–∂–∏–¥–∞–µ–º–∞—è –æ—à–∏–±–∫–∞ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã 0: {e}")
print("-" * 20)